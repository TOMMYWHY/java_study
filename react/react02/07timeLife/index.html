<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>time life</h1>    
    <hr>
    <div id="app"></div>
</body>
</html>

<script type="text/javascript" src="../js/react.development.js"></script>
<script type="text/javascript" src="../js/react-dom.development.js"></script>
<script type="text/javascript" src="../js/babel.min.js"></script>
<script src="../js/prop-types.js"></script>

<script type="text/babel">

class Life extends React.Component{

    state={
        opacity:0.5
    }
    destroy = ()=>{
        // clearInterval(this.timer)
        ReactDOM.unmountComponentAtNode(document.getElementById("app"))
    }

    //init
    componentDidMount(){
        this.timer = setInterval(()=>{
            let {opacity } = this.state
            opacity -= 0.1
            if(opacity <=0){
                opacity = 1
            }
            this.setState({
                opacity : opacity 
            })
        },200)
    }

    componentWillUnmount(){
        clearInterval(this.timer)

    }

    render(){

        return(
            <div>
                <h2 style={{opacity:this.state.opacity}}>too hard to learn react....</h2>
                <button onClick={this.destroy}>go die~!</button>
            </div>
        )
    }
}

ReactDOM.render(<Life/>, document.getElementById("app"))

</script>